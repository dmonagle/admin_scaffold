<h1><%= plural_table_name.titleize %></h1>

<%%= form_tag <%= plural_table_name %>_path, :method => 'get' do %>
    <p>
    <%%= text_field_tag :search, params[:search] %>
    <%%= submit_tag "Search", :name => nil %>
    </p>
<%% end %>

<table>
  <tr>
<% for attribute in attributes -%>
    <th><%%= sortable_column "<%= attribute.name %>", "<%= attribute.human_name %>" %></th>
<% end -%>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<%% @<%= plural_table_name %>.page(@page).each do |<%= singular_table_name %>| %>
  <tr>
<% for attribute in attributes -%>
    <td><%%= <%= singular_table_name %>.<%= attribute.name %> %></td>
<% end -%>
    <td><%%= link_to 'Show', <%= singular_table_name %> %></td>
    <td><%%= link_to 'Edit', edit_<%= singular_table_name %>_path(<%= singular_table_name %>) %></td>
    <td><%%= link_to 'Destroy', <%= singular_table_name %>, :confirm => 'Are you sure?', :method => :delete %></td>
  </tr>
<%% end %>
</table>

<%%= page_links(@<%= plural_table_name %>, @page) %>

<br />

<%%= link_to 'New <%= human_name %>', new_<%= singular_table_name %>_path %>
